// База значений имён для онбординга
// Система связывает полные и краткие формы имён

// Базовые значения имён (ключи - полные формы)
const baseMeanings: Record<string, string> = {
  // Женские имена
  'анна': 'грация и милость божья',
  'анастасия': 'возрождённая к новой жизни',
  'александра': 'защитница и покровительница',
  'алина': 'благородная и светлая душа',
  'алиса': 'девушка благородных кровей',
  'алёна': 'сияющая словно солнце',
  'альбина': 'чистая как белый снег',
  'амина': 'верная и надёжная подруга',
  'ангелина': 'небесная вестница',
  'арина': 'несущая мир и покой',
  'валентина': 'сильная духом',
  'валерия': 'полная жизненных сил',
  'варвара': 'путешественница из дальних земель',
  'вера': 'олицетворение веры',
  'вероника': 'несущая победу',
  'виктория': 'победительница по рождению',
  'галина': 'спокойная как морская гладь',
  'дарья': 'хранительница добра',
  'дарина': 'дарованная небесами',
  'диана': 'божественная охотница',
  'ева': 'дарующая жизнь',
  'евгения': 'благородная по происхождению',
  'екатерина': 'чистая и непорочная',
  'елена': 'сияющая ярким светом',
  'елизавета': 'посвящённая богу',
  'жанна': 'благословенная небесами',
  'злата': 'драгоценная как золото',
  'зоя': 'олицетворение жизни',
  'инна': 'бурная как горный поток',
  'ирина': 'несущая мир',
  'камила': 'совершенная во всём',
  'карина': 'бесконечно дорогая',
  'кира': 'госпожа своей судьбы',
  'кристина': 'посвящённая Христу',
  'ксения': 'гостеприимная хозяйка',
  'лада': 'милая и любимая',
  'лариса': 'свободная как чайка',
  'лидия': 'рождённая для музыки',
  'лилия': 'нежная как цветок',
  'любовь': 'сама любовь',
  'людмила': 'любимая людьми',
  'маргарита': 'драгоценная жемчужина',
  'марина': 'рождённая морем',
  'мария': 'желанная и любимая',
  'милана': 'милая и нежная',
  'милена': 'ласковая и добрая',
  'мирослава': 'прославляющая мир',
  'надежда': 'дарующая надежду',
  'наталья': 'рождённая в праздник',
  'ника': 'богиня победы',
  'нина': 'мечтательная натура',
  'оксана': 'радушная хозяйка',
  'олеся': 'лесная волшебница',
  'ольга': 'священная и мудрая',
  'полина': 'солнечная девушка',
  'регина': 'королева по рождению',
  'роза': 'прекрасная как цветок',
  'светлана': 'несущая свет',
  'снежана': 'чистая как первый снег',
  'софия': 'мудрая не по годам',
  'софья': 'носительница мудрости',
  'таисия': 'хранительница тайн',
  'тамара': 'стройная как пальма',
  'татьяна': 'устроительница порядка',
  'ульяна': 'счастливая и радостная',
  'юлия': 'юная и энергичная',
  'яна': 'божья благодать',
  'ярослава': 'яркая и славная',
  'вероника': 'несущая победу',
  'анжела': 'ангельская душа',
  'анжелика': 'подобная ангелу',
  'василиса': 'царственная особа',
  'виолетта': 'нежная фиалка',
  'кристина': 'следующая за светом',
  'эльвира': 'защитница всех',
  'эмма': 'целостная натура',
  'алла': 'вторая после бога',
  'лилиана': 'чистая как лилия',
  'эвелина': 'дарующая жизнь',
  'стефания': 'увенчанная славой',
  'элина': 'сияющая светом',
  'элеонора': 'милосердная',
  'аврора': 'утренняя заря',
  'агата': 'добрая душа',
  'аделина': 'благородная',
  'беатриса': 'приносящая счастье',
  'вивиана': 'полная жизни',
  'доминика': 'принадлежащая богу',
  'изабелла': 'посвящённая богу',
  'клара': 'светлая и ясная',
  'лаура': 'увенчанная лаврами',
  'мелисса': 'сладкая как мёд',
  'моника': 'единственная',
  'оливия': 'символ мира',
  'сабина': 'красавица',
  'селена': 'лунная богиня',
  'сильвия': 'лесная нимфа',
  'стелла': 'яркая звезда',
  'фелиция': 'счастливая',
  'флора': 'цветущая',
  'хлоя': 'молодая зелень',
  'эмилия': 'соперница',

  // Мужские имена
  'александр': 'защитник народа',
  'алексей': 'защитник и оберегатель',
  'андрей': 'мужественный воин',
  'антон': 'достойный похвалы',
  'артём': 'здоровый и невредимый',
  'артур': 'могучий как медведь',
  'богдан': 'богом данный',
  'борис': 'борец за славу',
  'вадим': 'смелый спорщик',
  'валерий': 'крепкий и здоровый',
  'василий': 'царственный правитель',
  'виктор': 'победитель по жизни',
  'виталий': 'полный жизненной энергии',
  'владимир': 'владеющий миром',
  'владислав': 'владеющий славой',
  'георгий': 'возделывающий землю',
  'глеб': 'любимец богов',
  'григорий': 'бодрствующий страж',
  'даниил': 'божий судья',
  'денис': 'посвящённый веселью',
  'дмитрий': 'посвящённый плодородию',
  'евгений': 'благородный по духу',
  'егор': 'земледелец',
  'иван': 'божья благодать',
  'игорь': 'воин-защитник',
  'илья': 'сила господня',
  'кирилл': 'маленький господин',
  'константин': 'постоянный и верный',
  'лев': 'царь зверей',
  'леонид': 'подобный льву',
  'максим': 'величайший из великих',
  'марк': 'посвящённый богу войны',
  'матвей': 'дар небес',
  'михаил': 'подобный богу',
  'никита': 'непобедимый',
  'николай': 'победитель народов',
  'олег': 'священный воин',
  'павел': 'скромный и малый',
  'пётр': 'твёрдый как скала',
  'роман': 'римский воин',
  'руслан': 'львиное сердце',
  'сергей': 'высокочтимый',
  'станислав': 'ставший славным',
  'степан': 'увенчанный славой',
  'тимофей': 'почитающий бога',
  'тимур': 'железный характер',
  'фёдор': 'божий дар',
  'филипп': 'любитель лошадей',
  'эдуард': 'страж богатства',
  'юрий': 'земледелец',
  'ярослав': 'яркая слава',
  'вячеслав': 'славный навеки',
  'геннадий': 'благородного рода',
  'давид': 'возлюбленный',
  'данила': 'божий судья',
  'захар': 'память господня',
  'макар': 'блаженный',
  'семён': 'услышанный богом',
  'арсений': 'мужественный',
  'тихон': 'удачливый',
  'платон': 'широкоплечий',
  'савелий': 'испрошенный у бога',
  'мирон': 'благоухающий',
  'демид': 'божья мысль',
  'ефим': 'благочестивый',
  'прохор': 'ведущий хор',
  'герман': 'единокровный',
  'аркадий': 'счастливая страна',
  'леонард': 'сильный как лев',
  'феликс': 'счастливый',
  'эрик': 'вечный правитель',
  'оскар': 'божье копьё',
}

// Связи уменьшительных форм с полными именами
const nicknameToFull: Record<string, string> = {
  // Женские уменьшительные -> полные
  'настя': 'анастасия',
  'настенька': 'анастасия',
  'настюша': 'анастасия',
  'стася': 'анастасия',
  'ася': 'анастасия',

  'саша': 'александра', // может быть и мужское
  'сашенька': 'александра',
  'шура': 'александра',
  'шурочка': 'александра',
  'санька': 'александра',

  'маша': 'мария',
  'машенька': 'мария',
  'маруся': 'мария',
  'мася': 'мария',
  'маня': 'мария',
  'машуня': 'мария',

  'даша': 'дарья',
  'дашенька': 'дарья',
  'дашуля': 'дарья',
  'дашка': 'дарья',

  'катя': 'екатерина',
  'катенька': 'екатерина',
  'катюша': 'екатерина',
  'катюня': 'екатерина',
  'катька': 'екатерина',

  'лена': 'елена',
  'леночка': 'елена',
  'ленуся': 'елена',
  'алёна': 'елена', // тоже может быть отдельным

  'оля': 'ольга',
  'оленька': 'ольга',
  'олюшка': 'ольга',
  'ольчик': 'ольга',

  'таня': 'татьяна',
  'танечка': 'татьяна',
  'танюша': 'татьяна',
  'татьянка': 'татьяна',

  'юля': 'юлия',
  'юленька': 'юлия',
  'юляша': 'юлия',
  'юлька': 'юлия',

  'наташа': 'наталья',
  'наташенька': 'наталья',
  'ната': 'наталья',
  'натуся': 'наталья',

  'света': 'светлана',
  'светочка': 'светлана',
  'светик': 'светлана',
  'светуля': 'светлана',

  'женя': 'евгения', // может быть и мужское
  'женечка': 'евгения',
  'жека': 'евгения',

  'лиза': 'елизавета',
  'лизонька': 'елизавета',
  'лизавета': 'елизавета',
  'лизочка': 'елизавета',

  'вика': 'виктория',
  'викуля': 'виктория',
  'викуся': 'виктория',

  'ира': 'ирина',
  'ирочка': 'ирина',
  'иришка': 'ирина',
  'ируся': 'ирина',

  'рита': 'маргарита',
  'риточка': 'маргарита',
  'ритуля': 'маргарита',
  'марго': 'маргарита',

  'соня': 'софия',
  'сонечка': 'софия',
  'софа': 'софия',
  'софочка': 'софия',

  'поля': 'полина',
  'полечка': 'полина',
  'полюшка': 'полина',

  'надя': 'надежда',
  'наденька': 'надежда',
  'надюша': 'надежда',

  'люба': 'любовь',
  'любаша': 'любовь',
  'любочка': 'любовь',

  'люда': 'людмила',
  'людочка': 'людмила',
  'люся': 'людмила',
  'мила': 'людмила',

  'галя': 'галина',
  'галочка': 'галина',
  'галюня': 'галина',

  'валя': 'валентина',
  'валюша': 'валентина',
  'валечка': 'валентина',

  'лера': 'валерия',
  'лерочка': 'валерия',
  'валерочка': 'валерия',

  'варя': 'варвара',
  'варенька': 'варвара',
  'варюша': 'варвара',

  'ксюша': 'ксения',
  'ксюня': 'ксения',
  'ксеня': 'ксения',

  'ангела': 'ангелина',
  'геля': 'ангелина',

  'аринка': 'арина',
  'ариша': 'арина',

  'уля': 'ульяна',
  'ульянка': 'ульяна',

  'яночка': 'яна',

  'тая': 'таисия',
  'тася': 'таисия',

  // Мужские уменьшительные -> полные
  'вова': 'владимир',
  'вовочка': 'владимир',
  'вовка': 'владимир',
  'володя': 'владимир',
  'володенька': 'владимир',

  'дима': 'дмитрий',
  'димочка': 'дмитрий',
  'димка': 'дмитрий',
  'митя': 'дмитрий',
  'митенька': 'дмитрий',

  'миша': 'михаил',
  'мишенька': 'михаил',
  'мишка': 'михаил',
  'мишаня': 'михаил',

  'коля': 'николай',
  'коленька': 'николай',
  'колька': 'николай',
  'николаша': 'николай',

  'петя': 'пётр',
  'петенька': 'пётр',
  'петька': 'пётр',
  'петруша': 'пётр',

  'серёжа': 'сергей',
  'серёженька': 'сергей',
  'серый': 'сергей',
  'серёга': 'сергей',

  'ваня': 'иван',
  'ванечка': 'иван',
  'ванюша': 'иван',
  'ванька': 'иван',

  'витя': 'виктор',
  'витенька': 'виктор',
  'витёк': 'виктор',

  'паша': 'павел',
  'пашенька': 'павел',
  'пашка': 'павел',

  'костя': 'константин',
  'костик': 'константин',
  'костенька': 'константин',

  'слава': 'вячеслав', // может быть и владислав, станислав
  'славик': 'вячеслав',

  'рома': 'роман',
  'ромочка': 'роман',
  'ромка': 'роман',
  'ромаша': 'роман',

  'лёша': 'алексей',
  'лёшенька': 'алексей',
  'лёшка': 'алексей',
  'алёша': 'алексей',
  'алёшенька': 'алексей',

  'антоша': 'антон',
  'антошка': 'антон',
  'тоша': 'антон',
  'тоха': 'антон',

  'даня': 'даниил',
  'данечка': 'даниил',
  'данька': 'даниил',

  'макс': 'максим',
  'максик': 'максим',
  'максимка': 'максим',

  'тёма': 'артём',
  'тёмочка': 'артём',
  'артёмка': 'артём',

  'андрюша': 'андрей',
  'андрюшка': 'андрей',
  'андрейка': 'андрей',

  'боря': 'борис',
  'боренька': 'борис',
  'борька': 'борис',

  'гриша': 'григорий',
  'гришенька': 'григорий',
  'гришка': 'григорий',

  'вася': 'василий',
  'васенька': 'василий',
  'васька': 'василий',

  'федя': 'фёдор',
  'феденька': 'фёдор',
  'федька': 'фёдор',

  'лёня': 'леонид',
  'лёнечка': 'леонид',
  'лёнька': 'леонид',

  'толя': 'анатолий',
  'толечка': 'анатолий',
  'толик': 'анатолий',

  'гена': 'геннадий',
  'геночка': 'геннадий',
  'генка': 'геннадий',

  'юра': 'юрий',
  'юрочка': 'юрий',
  'юрик': 'юрий',

  'илюша': 'илья',
  'илюшка': 'илья',

  'гоша': 'георгий',
  'гошка': 'георгий',
  'жора': 'георгий',
  'жорик': 'георгий',

  'тима': 'тимофей',
  'тимоша': 'тимофей',

  'стёпа': 'степан',
  'стёпочка': 'степан',
  'степашка': 'степан',

  'влад': 'владислав',
  'владик': 'владислав',

  'эдик': 'эдуард',
  'эдуардик': 'эдуард',

  'сёма': 'семён',
  'сёмочка': 'семён',

  'кеша': 'иннокентий',

  'жек': 'евгений',
  'женёк': 'евгений',
}

// Иностранные имена
const foreignNames: Record<string, string> = {
  'anna': 'грация и милость',
  'maria': 'желанная и любимая',
  'sofia': 'мудрая душа',
  'alice': 'благородного рода',
  'diana': 'божественная',
  'eva': 'дарующая жизнь',
  'victoria': 'победительница',
  'alexandra': 'защитница',
  'elena': 'сияющий свет',
  'nina': 'мечтательница',
  'alex': 'защитник',
  'max': 'величайший',
  'victor': 'победитель',
  'roman': 'сильный воин',
  'michael': 'богоподобный',
  'david': 'возлюбленный',
  'mark': 'воинственный дух',
  'leo': 'львиная натура',
  'emma': 'целостная натура',
  'olivia': 'символ мира',
  'ava': 'источник жизни',
  'mia': 'моя любимая',
  'luna': 'загадочная как луна',
  'stella': 'яркая звезда',
  'aurora': 'утренняя заря',
  'violet': 'скромная фиалка',
  'iris': 'радужная вестница',
  'ivy': 'символ верности',
  'kate': 'чистая душой',
  'liza': 'посвящённая богу',
  'natasha': 'рождённая в праздник',
  'sasha': 'защитница',
  'masha': 'желанная',
  'dasha': 'хранительница добра',
  'tanya': 'устроительница',
  'olga': 'священная',
  'irina': 'несущая мир',
  'svetlana': 'светлая',
  'anastasia': 'возрождённая',
  'ekaterina': 'непорочная',
  'elizabeth': 'посвящённая богу',
  'sophia': 'мудрая',
  'julia': 'юная',
  'helen': 'сияющая',
  'margaret': 'жемчужина',
  'catherine': 'чистая',
  'alexander': 'защитник',
  'dmitry': 'плодородный',
  'sergey': 'высокочтимый',
  'ivan': 'божья благодать',
  'nikolay': 'победитель',
  'peter': 'твёрдый как скала',
  'paul': 'скромный',
  'andrew': 'мужественный',
}

// Красивые фразы-комплименты для имён, которых нет в базе
export const fallbackPhrases = [
  'редкое и особенное',
  'звучит волшебно',
  'полное очарования',
  'несёт в себе тайну',
  'звучит как музыка',
  'наполнено светом',
  'притягивает удачу',
  'хранит древнюю силу',
  'дарит тепло',
  'окутано магией',
]

// Вступительные фразы для найденных имён
const foundNameIntros = [
  'Прекрасное имя!',
  'Какое чудесное имя!',
  'Волшебное имя!',
  'Замечательное имя!',
  'Чудесный выбор!',
  'Красивое имя!',
  'Чарующее имя!',
  'Удивительное имя!',
]

// Вступительные фразы для ненайденных имён
const notFoundNameIntros = [
  'Необычное имя!',
  'Редкое имя!',
  'Уникальное имя!',
  'Особенное имя!',
  'Загадочное имя!',
]

// Получить значение имени
export function getNameMeaning(name: string): { found: boolean; meaning: string; intro: string; fullName?: string } {
  if (!name || name.trim().length < 2) {
    return { found: false, meaning: '', intro: '' }
  }

  const normalizedName = name.trim().toLowerCase()

  // Хэш для стабильного выбора фразы
  const hash = normalizedName.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0)

  // 1. Проверяем полные формы в основной базе
  if (baseMeanings[normalizedName]) {
    const introIndex = hash % foundNameIntros.length
    return {
      found: true,
      meaning: baseMeanings[normalizedName],
      intro: foundNameIntros[introIndex]
    }
  }

  // 2. Проверяем краткие формы и получаем значение от полного имени
  if (nicknameToFull[normalizedName]) {
    const fullName = nicknameToFull[normalizedName]
    const meaning = baseMeanings[fullName]
    if (meaning) {
      const introIndex = hash % foundNameIntros.length
      return {
        found: true,
        meaning,
        intro: foundNameIntros[introIndex],
        fullName
      }
    }
  }

  // 3. Проверяем иностранные имена
  if (foreignNames[normalizedName]) {
    const introIndex = hash % foundNameIntros.length
    return {
      found: true,
      meaning: foreignNames[normalizedName],
      intro: foundNameIntros[introIndex]
    }
  }

  // 4. Имя не найдено - возвращаем fallback
  const fallbackIndex = hash % fallbackPhrases.length
  const introIndex = hash % notFoundNameIntros.length

  return {
    found: false,
    meaning: fallbackPhrases[fallbackIndex],
    intro: notFoundNameIntros[introIndex]
  }
}

// Экспорт для совместимости
export const namesMeanings: Record<string, string> = {
  ...baseMeanings,
  ...foreignNames,
}
