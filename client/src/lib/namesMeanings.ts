// База значений имён для онбординга
// Ключи в нижнем регистре для удобного поиска

export const namesMeanings: Record<string, string> = {
  // Женские имена - популярные
  'анна': 'грация и милость божья',
  'анастасия': 'возрождённая к новой жизни',
  'александра': 'защитница и покровительница',
  'алина': 'благородная и светлая душа',
  'алиса': 'девушка благородных кровей',
  'алёна': 'сияющая словно солнце',
  'альбина': 'чистая как белый снег',
  'амина': 'верная и надёжная подруга',
  'ангелина': 'небесная вестница',
  'арина': 'несущая мир и покой',
  'валентина': 'сильная духом',
  'валерия': 'полная жизненных сил',
  'варвара': 'путешественница из дальних земель',
  'вера': 'олицетворение веры',
  'вероника': 'несущая победу',
  'виктория': 'победительница по рождению',
  'галина': 'спокойная как морская гладь',
  'дарья': 'хранительница добра',
  'дарина': 'дарованная небесами',
  'диана': 'божественная охотница',
  'ева': 'дарующая жизнь',
  'евгения': 'благородная по происхождению',
  'екатерина': 'чистая и непорочная',
  'елена': 'сияющая ярким светом',
  'елизавета': 'посвящённая богу',
  'жанна': 'благословенная небесами',
  'злата': 'драгоценная как золото',
  'зоя': 'олицетворение жизни',
  'инна': 'бурная как горный поток',
  'ирина': 'несущая мир',
  'камила': 'совершенная во всём',
  'карина': 'бесконечно дорогая',
  'кира': 'госпожа своей судьбы',
  'кристина': 'посвящённая Христу',
  'ксения': 'гостеприимная хозяйка',
  'лада': 'милая и любимая',
  'лариса': 'свободная как чайка',
  'лидия': 'рождённая для музыки',
  'лилия': 'нежная как цветок',
  'любовь': 'сама любовь',
  'людмила': 'любимая людьми',
  'маргарита': 'драгоценная жемчужина',
  'марина': 'рождённая морем',
  'мария': 'желанная и любимая',
  'милана': 'милая и нежная',
  'милена': 'ласковая и добрая',
  'мирослава': 'прославляющая мир',
  'надежда': 'дарующая надежду',
  'наталья': 'рождённая в праздник',
  'ника': 'богиня победы',
  'нина': 'мечтательная натура',
  'оксана': 'радушная хозяйка',
  'олеся': 'лесная волшебница',
  'ольга': 'священная и мудрая',
  'полина': 'солнечная девушка',
  'регина': 'королева по рождению',
  'роза': 'прекрасная как цветок',
  'светлана': 'несущая свет',
  'снежана': 'чистая как первый снег',
  'софия': 'мудрая не по годам',
  'софья': 'носительница мудрости',
  'таисия': 'хранительница тайн',
  'тамара': 'стройная как пальма',
  'татьяна': 'устроительница порядка',
  'ульяна': 'счастливая и радостная',
  'юлия': 'юная и энергичная',
  'яна': 'божья благодать',
  'ярослава': 'яркая и славная',

  // Мужские имена
  'александр': 'защитник народа',
  'алексей': 'защитник и оберегатель',
  'андрей': 'мужественный воин',
  'антон': 'достойный похвалы',
  'артём': 'здоровый и невредимый',
  'артур': 'могучий как медведь',
  'богдан': 'богом данный',
  'борис': 'борец за славу',
  'вадим': 'смелый спорщик',
  'валерий': 'крепкий и здоровый',
  'василий': 'царственный правитель',
  'виктор': 'победитель по жизни',
  'виталий': 'полный жизненной энергии',
  'владимир': 'владеющий миром',
  'владислав': 'владеющий славой',
  'георгий': 'возделывающий землю',
  'глеб': 'любимец богов',
  'григорий': 'бодрствующий страж',
  'даниил': 'божий судья',
  'денис': 'посвящённый веселью',
  'дмитрий': 'посвящённый плодородию',
  'евгений': 'благородный по духу',
  'егор': 'земледелец',
  'иван': 'божья благодать',
  'игорь': 'воин-защитник',
  'илья': 'сила господня',
  'кирилл': 'маленький господин',
  'константин': 'постоянный и верный',
  'лев': 'царь зверей',
  'леонид': 'подобный льву',
  'максим': 'величайший из великих',
  'марк': 'посвящённый богу войны',
  'матвей': 'дар небес',
  'михаил': 'подобный богу',
  'никита': 'непобедимый',
  'николай': 'победитель народов',
  'олег': 'священный воин',
  'павел': 'скромный и малый',
  'пётр': 'твёрдый как скала',
  'роман': 'римский воин',
  'руслан': 'львиное сердце',
  'сергей': 'высокочтимый',
  'станислав': 'ставший славным',
  'степан': 'увенчанный славой',
  'тимофей': 'почитающий бога',
  'тимур': 'железный характер',
  'фёдор': 'божий дар',
  'филипп': 'любитель лошадей',
  'эдуард': 'страж богатства',
  'юрий': 'земледелец',
  'ярослав': 'яркая слава',

  // Уменьшительные формы
  'настя': 'возрождённая к новой жизни',
  'саша': 'защитница людей',
  'маша': 'желанная и любимая',
  'даша': 'хранительница добра',
  'катя': 'чистая душой',
  'лена': 'сияющая светом',
  'оля': 'священная мудрость',
  'таня': 'устроительница',
  'юля': 'юная и энергичная',
  'наташа': 'рождённая в праздник',
  'света': 'несущая свет миру',
  'женя': 'благородная натура',
  'лиза': 'посвящённая богу',
  'вика': 'победительница',
  'ира': 'несущая мир',
  'рита': 'драгоценная жемчужина',
  'соня': 'мудрая душа',
  'поля': 'солнечный лучик',
  'вова': 'владеющий миром',
  'дима': 'плодородная земля',
  'миша': 'богоподобный',
  'коля': 'победитель',
  'петя': 'твёрдый как камень',
  'серёжа': 'высокочтимый',
  'ваня': 'божья благодать',
  'витя': 'победитель',
  'паша': 'скромный и мудрый',
  'костя': 'верный и постоянный',
  'слава': 'славный человек',
  'рома': 'сильный воин',
  'лёша': 'защитник',
  'антоша': 'достойный похвалы',
  'даня': 'божий судья',
  'макс': 'величайший',
  'тёма': 'здоровый духом',

  // Иностранные имена
  'anna': 'грация и милость',
  'maria': 'желанная и любимая',
  'sofia': 'мудрая душа',
  'alice': 'благородного рода',
  'diana': 'божественная',
  'eva': 'дарующая жизнь',
  'victoria': 'победительница',
  'alexandra': 'защитница',
  'elena': 'сияющий свет',
  'nina': 'мечтательница',
  'alex': 'защитник',
  'max': 'величайший',
  'victor': 'победитель',
  'roman': 'сильный воин',
  'michael': 'богоподобный',
  'david': 'возлюбленный',
  'mark': 'воинственный дух',
  'leo': 'львиная натура',
  'emma': 'целостная натура',
  'olivia': 'символ мира',
  'ava': 'источник жизни',
  'mia': 'моя любимая',
  'luna': 'загадочная как луна',
  'stella': 'яркая звезда',
  'aurora': 'утренняя заря',
  'violet': 'скромная фиалка',
  'iris': 'радужная вестница',
  'ivy': 'символ верности',
}

// Красивые фразы-комплименты для имён, которых нет в базе
export const fallbackPhrases = [
  'редкое и особенное',
  'звучит волшебно',
  'полное очарования',
  'несёт в себе тайну',
  'звучит как музыка',
  'наполнено светом',
  'притягивает удачу',
  'хранит древнюю силу',
]

// Вступительные фразы для найденных имён
const foundNameIntros = [
  'Прекрасное имя!',
  'Какое чудесное имя!',
  'Волшебное имя!',
  'Замечательное имя!',
  'Чудесный выбор!',
  'Красивое имя!',
]

// Вступительные фразы для ненайденных имён
const notFoundNameIntros = [
  'Необычное имя!',
  'Редкое имя!',
  'Уникальное имя!',
  'Особенное имя!',
]

// Получить значение имени
export function getNameMeaning(name: string): { found: boolean; meaning: string; intro: string } {
  if (!name || name.trim().length < 2) {
    return { found: false, meaning: '', intro: '' }
  }

  const normalizedName = name.trim().toLowerCase()
  const meaning = namesMeanings[normalizedName]

  // Хэш для стабильного выбора фразы
  const hash = normalizedName.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0)

  if (meaning) {
    const introIndex = hash % foundNameIntros.length
    return {
      found: true,
      meaning,
      intro: foundNameIntros[introIndex]
    }
  }

  // Случайная фраза для неизвестных имён (но стабильная для одного имени)
  const fallbackIndex = hash % fallbackPhrases.length
  const introIndex = hash % notFoundNameIntros.length

  return {
    found: false,
    meaning: fallbackPhrases[fallbackIndex],
    intro: notFoundNameIntros[introIndex]
  }
}
