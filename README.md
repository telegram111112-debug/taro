# –ö–∞—Ä—Ç—ã –°—É–¥—å–±—ã - Telegram Mini App –¥–ª—è –¢–∞—Ä–æ

–ú–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –≥–∞–¥–∞–Ω–∏–π –Ω–∞ –∫–∞—Ä—Ç–∞—Ö –¢–∞—Ä–æ.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üîÆ **–ö–∞—Ä—Ç–∞ –¥–Ω—è** ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
- üåô **–í–ª–∏—è–Ω–∏–µ –ª—É–Ω—ã** ‚Äî –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ —É—á–∏—Ç—ã–≤–∞—é—Ç —Ç–µ–∫—É—â—É—é —Ñ–∞–∑—É –ª—É–Ω—ã
- üÉè **–†–∞—Å–∫–ª–∞–¥—ã** ‚Äî –ª—é–±–æ–≤—å, –¥–µ–Ω—å–≥–∏, –±—É–¥—É—â–µ–µ
- üìö **–ö–æ–ª–ª–µ–∫—Ü–∏—è** ‚Äî —Å–æ–±–µ—Ä–∏ –≤—Å–µ 78 –∫–∞—Ä—Ç –¢–∞—Ä–æ
- üèÜ **–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è** ‚Äî –Ω–∞–≥—Ä–∞–¥—ã –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- üéÅ **–ü–æ–¥–∞—Ä–∫–∏** ‚Äî –±–æ–Ω—É—Å—ã –∑–∞ —Å—Ç—Ä–∏–∫ –ø–æ—Å–µ—â–µ–Ω–∏–π
- ü¶ã **–î–≤–µ –∫–æ–ª–æ–¥—ã** ‚Äî –≤—ã–±–∏—Ä–∞–π –º–µ–∂–¥—É —Ç—ë–º–Ω–æ–π –≤–µ–¥—å–º–æ–π –∏ –Ω–µ–∂–Ω–æ–π —Ñ–µ–µ–π

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

### Frontend
- React 18 + TypeScript
- Vite
- TailwindCSS
- Framer Motion
- Zustand
- React Query
- @telegram-apps/sdk

### Backend
- Express + TypeScript
- Prisma ORM
- PostgreSQL
- Telegraf (Telegram Bot)
- Redis (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js 18+
- PostgreSQL
- npm –∏–ª–∏ yarn

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repo-url>
cd TARO

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp server/.env.example server/.env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ server/.env

# –°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
cd server
npm run db:push
npm run db:seed

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
cd ..
npm run dev
```

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (server/.env)

```env
NODE_ENV=development
PORT=3001
DATABASE_URL=postgresql://localhost:5432/taro
BOT_TOKEN=your-telegram-bot-token
WEBAPP_URL=http://localhost:5173
JWT_SECRET=your-secret-key
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
TARO/
‚îú‚îÄ‚îÄ client/                 # Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/     # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/          # –°—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store/          # Zustand —Å—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/            # –£—Ç–∏–ª–∏—Ç—ã –∏ API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/          # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ providers/      # React –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ server/                 # Backend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/         # API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/       # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middleware/     # Express middleware
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ bot/            # Telegram –±–æ—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/          # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ prisma/
‚îÇ       ‚îú‚îÄ‚îÄ schema.prisma   # –°—Ö–µ–º–∞ –ë–î
‚îÇ       ‚îî‚îÄ‚îÄ seed.ts         # –î–∞–Ω–Ω—ã–µ –¥–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
‚îî‚îÄ‚îÄ ...
```

## API Endpoints

### Auth
- `POST /api/auth/telegram` ‚Äî –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
- `GET /api/auth/me` ‚Äî –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### Readings
- `GET /api/readings/daily` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ä—Ç—É –¥–Ω—è
- `POST /api/readings/daily` ‚Äî –°–æ–∑–¥–∞—Ç—å –∫–∞—Ä—Ç—É –¥–Ω—è
- `POST /api/readings/spread` ‚Äî –°–æ–∑–¥–∞—Ç—å —Ä–∞—Å–∫–ª–∞–¥
- `POST /api/readings/:id/clarify` ‚Äî –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ä—Ç—É —É—Ç–æ—á–Ω–µ–Ω–∏—è
- `POST /api/readings/:id/feedback` ‚Äî –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤
- `GET /api/readings/history` ‚Äî –ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å–∫–ª–∞–¥–æ–≤

### User
- `GET /api/user/profile` ‚Äî –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `PUT /api/user/profile` ‚Äî –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
- `GET /api/user/stats` ‚Äî –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `GET /api/user/streak` ‚Äî –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç—Ä–∏–∫–µ
- `POST /api/user/deck-theme` ‚Äî –í—ã–±—Ä–∞—Ç—å —Ç–µ–º—É –∫–æ–ª–æ–¥—ã

### Collection
- `GET /api/collection` ‚Äî –ö–æ–ª–ª–µ–∫—Ü–∏—è –∫–∞—Ä—Ç
- `GET /api/collection/:cardId` ‚Äî –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞—Ä—Ç–µ
- `GET /api/collection/stats/overview` ‚Äî –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏

### Gifts
- `GET /api/gifts` ‚Äî –°–ø–∏—Å–æ–∫ –ø–æ–¥–∞—Ä–∫–æ–≤
- `POST /api/gifts/claim-streak-reward` ‚Äî –ü–æ–ª—É—á–∏—Ç—å –Ω–∞–≥—Ä–∞–¥—É –∑–∞ —Å—Ç—Ä–∏–∫

### Achievements
- `GET /api/achievements` ‚Äî –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- `POST /api/achievements/check` ‚Äî –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

### Cards
- `GET /api/cards` ‚Äî –í—Å–µ –∫–∞—Ä—Ç—ã
- `GET /api/cards/:id` ‚Äî –û–¥–Ω–∞ –∫–∞—Ä—Ç–∞

## –î–µ–ø–ª–æ–π

### Production

1. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ PostgreSQL
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
```bash
npm run build
```
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
npm start
```

### Telegram Bot

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
2. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ .env
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Menu Button —á–µ—Ä–µ–∑ BotFather:
   - /mybots ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞ ‚Üí Bot Settings ‚Üí Menu Button
   - –£–∫–∞–∂–∏—Ç–µ URL –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
